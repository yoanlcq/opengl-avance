<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.18.1" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="https://Celeborn2BeAlive.github.io/opengl-avance/images/favicon.png" type="image/x-icon" />

    
    <title>Aller plus loin</title>
    <link href="https://celeborn2bealive.github.io/opengl-avance//css/nucleus.css" rel="stylesheet">
    <link href="https://celeborn2bealive.github.io/opengl-avance//css/font-awesome.min.css" rel="stylesheet">
    <link href="https://celeborn2bealive.github.io/opengl-avance//css/hybrid.css" rel="stylesheet">
    <link href="https://celeborn2bealive.github.io/opengl-avance//css/featherlight.min.css" rel="stylesheet">
    <link href="https://celeborn2bealive.github.io/opengl-avance//css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="https://celeborn2bealive.github.io/opengl-avance//css/horsey.css" rel="stylesheet">
    <link href="https://celeborn2bealive.github.io/opengl-avance//css/theme.css" rel="stylesheet">
    <link href="https://celeborn2bealive.github.io/opengl-avance//css/hugo-theme.css" rel="stylesheet">
    <script src="https://celeborn2bealive.github.io/opengl-avance//js/jquery-2.x.min.js"></script>
    <style type="text/css">:root #header + #content > #left > #rlblock_left
    {display:none !important;}</style>
    <style>
    #header-wrapper {
        background: #F0F0F0;
        color: #fff;
        text-align: center;
        border-bottom: 4px solid #E0E0E0;
        padding: 1rem;
    }

    code.has-jax {font: inherit;
              font-size: 100%;
              background: inherit;
              border: inherit;
              color: #515151;}
</style>
  </head>
  <body class="" data-url="/03-deferred-shading/plus-loin/">
    <nav id="sidebar">
  <div id="header-wrapper">
    <div id="header">
      

<script src="https://Celeborn2BeAlive.github.io/opengl-avance/scripts/sylvester.js" type="text/javascript"></script>
<script src="https://Celeborn2BeAlive.github.io/opengl-avance/scripts/glUtils.js" type="text/javascript"></script>
<script src="https://Celeborn2BeAlive.github.io/opengl-avance/scripts/webgl-demo.js" type="text/javascript"></script>

<script id="shader-fs" type="x-shader/x-fragment">
      varying highp vec2 vTextureCoord;

      uniform sampler2D uSampler;

      void main(void) {
        gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));
      }
</script>

    

<script id="shader-vs" type="x-shader/x-vertex">
  attribute vec3 aVertexPosition;
  attribute vec2 aTextureCoord;

  uniform mat4 uMVMatrix;
  uniform mat4 uPMatrix;

  varying highp vec2 vTextureCoord;

  void main(void) {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
    vTextureCoord = aTextureCoord;
  }
</script>

<canvas width = "200" height = "200" id = "glcanvas"></canvas>

<script>
    start('https:\/\/celeborn2bealive.github.io\/opengl-avance\/' + 'images/');
</script>

<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>
    </div>
    
</div>


  <div class="highlightable">
    <ul class="topics">
      
      
        
      
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/01-introduction/">
        <a href="https://Celeborn2BeAlive.github.io/opengl-avance/01-introduction/">
          <span>
            
              <b>1. </b>
            
             Mise en place
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/01-introduction/introduction/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/01-introduction/introduction/">
                <span>Introduction     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/01-introduction/code-template/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/01-introduction/code-template/">
                <span>Code template     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/01-introduction/lib-externes/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/01-introduction/lib-externes/">
                <span>Bibliotheques externes     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/01-introduction/lib-interne/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/01-introduction/lib-interne/">
                <span>Bibliotheque interne (glmlv)     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/01-introduction/projet/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/01-introduction/projet/">
                <span>Projet     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/01-introduction/liens/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/01-introduction/liens/">
                <span>Liens     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/02-forward-shading/">
        <a href="https://Celeborn2BeAlive.github.io/opengl-avance/02-forward-shading/">
          <span>
            
              <b>2. </b>
            
             Forward Shading (Rappels)
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/02-forward-shading/pipeline/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/02-forward-shading/pipeline/">
                <span>Pipeline de rendu     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/02-forward-shading/geometrie/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/02-forward-shading/geometrie/">
                <span>Geometrie     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/02-forward-shading/shaders/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/02-forward-shading/shaders/">
                <span>Shaders     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/02-forward-shading/transformations/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/02-forward-shading/transformations/">
                <span>Transformations     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/02-forward-shading/lighting/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/02-forward-shading/lighting/">
                <span>Lighting     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/02-forward-shading/textures/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/02-forward-shading/textures/">
                <span>Textures     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/02-forward-shading/load-obj/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/02-forward-shading/load-obj/">
                <span>Chargement de modèles OBJ     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/02-forward-shading/plus-loin/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/02-forward-shading/plus-loin/">
                <span>Aller plus loin     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  parent" data-nav-id="/03-deferred-shading/">
        <a href="https://Celeborn2BeAlive.github.io/opengl-avance/03-deferred-shading/">
          <span>
            
              <b>3. </b>
            
             Deferred Shading
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/03-deferred-shading/pipeline/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/03-deferred-shading/pipeline/">
                <span>Pipeline de rendu     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/03-deferred-shading/geometry-pass/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/03-deferred-shading/geometry-pass/">
                <span>Geometry pass     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/03-deferred-shading/shading-pass/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/03-deferred-shading/shading-pass/">
                <span>Shading pass     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item active" data-nav-id="/03-deferred-shading/plus-loin/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/03-deferred-shading/plus-loin/">
                <span>Aller plus loin     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/04-shadow-mapping/">
        <a href="https://Celeborn2BeAlive.github.io/opengl-avance/04-shadow-mapping/">
          <span>
            
              <b>4. </b>
            
             Shadow Mapping
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/04-shadow-mapping/introduction/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/04-shadow-mapping/introduction/">
                <span>Introduction     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/04-shadow-mapping/creation-shadow-map/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/04-shadow-mapping/creation-shadow-map/">
                <span>Création de la Shadow Map     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/04-shadow-mapping/utilisation-shadow-map/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/04-shadow-mapping/utilisation-shadow-map/">
                <span>Utilisation de la Shadow Map     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
      

      
        
      
      
      

      <li class="dd-item  " data-nav-id="/05-post-processing/">
        <a href="https://Celeborn2BeAlive.github.io/opengl-avance/05-post-processing/">
          <span>
            
              <b>5. </b>
            
             Post-Processing
            
           </span>
        </a>
        
        <ul>
          
          
          
          
            <li class="dd-item " data-nav-id="/05-post-processing/introduction/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/05-post-processing/introduction/">
                <span>Introduction     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/05-post-processing/gamma-correction/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/05-post-processing/gamma-correction/">
                <span>Gamma correction     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/05-post-processing/extraction-contours/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/05-post-processing/extraction-contours/">
                <span>Extraction de contours     </i></span>
              </a>
            </li>
          
          
          
            <li class="dd-item " data-nav-id="/05-post-processing/depth-of-field/">
              <a href="https://Celeborn2BeAlive.github.io/opengl-avance/05-post-processing/depth-of-field/">
                <span>Depth of field     </i></span>
              </a>
            </li>
          
          
        </ul>
        
      </li>
      
      
    </ul>
    <hr>
     
    <section id="footer">
      <p>TDs écris par <a href="http://laurentnoel.fr/">Laurent Noël</a></p>
    </section>
  </div>
</nav>

        <section id="body">
        <div id="overlay"></div>

        <div class="padding highlightable">

            <div id="top-bar">
              
              <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                  <span id="sidebar-toggle-span">
                      <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                        <i class="fa fa-bars"></i>
                      </a>
                  </span>
                
                <span id="toc-menu"><a href=""><i class="fa fa-list-alt"></i></a></span>
                
                
                
                
                  
                
                  
                
                  
                    
                    
                <a href="https://Celeborn2BeAlive.github.io/opengl-avance/03-deferred-shading/" itemprop="url"><span itemprop="title">Deferred Shading</span></a> <i class="fa fa-angle-right"></i>
                    
                  
                
                  
                
                  
                
                <span itemprop="title"> Aller plus loin</span>
              </div>
              
                  <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#compute-shader-pour-la-shading-pass">Compute Shader pour la Shading Pass</a></li>
<li><a href="#light-culling-simple">Light Culling simple</a></li>
<li><a href="#conclusion-et-forward">Conclusion et Forward +</a>
<ul>
<li><a href="#forward">Forward</a></li>
<li><a href="#deferred">Deferred</a></li>
<li><a href="#forward-1">Forward +</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

              

            </div>
            
    	        <div id="body-inner">
                
                <h1>Aller plus loin</h1>
                



<p>Voici plusieurs choses améliorable pour rendre notre deferred renderer plus interessant:</p>

<h2 id="compute-shader-pour-la-shading-pass">Compute Shader pour la Shading Pass</h2>

<p>Dessiner un quad pour la shading pass, c&rsquo;est en réalité se compliquer la vie pour rien. Tout ce qu&rsquo;on veut c&rsquo;est traiter chacun des pixels du GBuffer, en parallèle sur GPU. D&rsquo;une certaine manière, ce qu&rsquo;on aimerait faire c&rsquo;est un genre de kernel Cuda.</p>

<p>Ca tombe bien, les compute shaders (dispo depuis OpenGL 4.3) permettent exactement de faire ça.</p>

<p>Trouvez vous un tuto sur le net sur les compute shaders et essayez d&rsquo;adapter votre shading pass pour utiliser un CS plutot que dessin quad + VS + FS.</p>

<h2 id="light-culling-simple">Light Culling simple</h2>

<p>Il est assez facile en deferred de faire le rendu de la contribution de plusieurs lights en accumulant le résultat de plusieurs shading pass.</p>

<p>De plus, avec des lights dont l&rsquo;interaction est limités dans l&rsquo;espace (point light avec un radius par exemple), il est possible de remplacer le dessin du Quad par une forme quelquonque qui vient couvrir en espace ecran la forme du volume projeté de la light. On traite ainsi moins de pixels a chaque shading pass et on gagne du temps. Les <a href="http://ogldev.atspace.co.uk/www/tutorial36/tutorial36.html">parties 2 et 3</a> du tutorial d&rsquo;ogldev détaillent cette méthode. Implémentez là.</p>

<div class="notices warning" ><p>Ces deux exercices sont un peu antagonistes. Dans le premier on remplace le dessin du Quad par l&rsquo;execution d&rsquo;un compute shader.
Dans le deuxième on remplace le dessin du Quad par des dessins de différents formes.</p>
</div>


<h2 id="conclusion-et-forward">Conclusion et Forward +</h2>

<p>Ces deux premiers TPs vous ont permis d&rsquo;implémenter les deux pipelines de rendu temps réel les plus utilisé: forward et deferred.</p>

<p>Ils ont tous les deux des avantages et inconvénients:</p>

<h3 id="forward">Forward</h3>

<p>Avantages:
- Simple a mettre en oeuvre, un seul programme GLSL
- Accès aux propriétés de l&rsquo;objet en cours de rendu au moment de l&rsquo;illumination via les uniforms
- Possibilité d&rsquo;exploiter les techniques d&rsquo;anti-aliasing du GPU</p>

<p>Désavantages:
- Potentiellement beaucoup de fragment traités puis occultés
- Pas d&rsquo;information globale sur l&rsquo;ensemble de la géométrie visible (en tout cas pas sans précalcul)</p>

<h3 id="deferred">Deferred</h3>

<p>Avantages:
- Possibilité d&rsquo;utiliser le GBuffer pour faire du light culling, post-process ou autre
- Shading pass seulement sur les fragments non occultés -&gt; gain de perfs si shading pass couteuse (souvent le cas)</p>

<p>Désavantages:
- Gourmand en mémoire et bande passante (grosse résolution = grosses textures à sortir, vive la 4K et la VR !)
- Pour avoir accès a des informations sur les objets à rendre dans la shading pass, il faut les écrire dans des textures -&gt; difficile de mélanger différent modèles de shading sur un meme rendu
- Par defaut, impossible de rendre des objets transparents</p>

<h3 id="forward-1">Forward +</h3>

<p>Une autre méthode a été développé par AMD, appelé Forward + (<a href="http://www.gdcvault.com/play/1016435/Forward-Rendering-Pipeline-for-Modern">voir ici</a> et <a href="http://fr.slideshare.net/takahiroharada/forward-34779335">la</a>), qui tente d&rsquo;obtenir les avantages des deux méthodes sans les inconvénients.</p>

<p>Sans trop entrer dans les détails, voici le fonctionnement général de l&rsquo;algo:</p>

<ul>
<li>depth pré-pass: rendu uniquement du depth buffer</li>
<li>light culling: utilisation du depth buffer pour associer les lights à des tiles de pixels</li>
<li>lighting: rendu en forward, mais utilisation du depth buffer précalculé pour discard les fragments occultés, + utilisation des lights associés aux tiles de pixels</li>
</ul>


      
      </div>
    </div>

    <div id="navigation">
        <a class="nav nav-prev" href="https://Celeborn2BeAlive.github.io/opengl-avance/03-deferred-shading/shading-pass/"> <i class="fa fa-chevron-left"></i></a>
        <a class="nav nav-next" href="https://Celeborn2BeAlive.github.io/opengl-avance/04-shadow-mapping/" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://celeborn2bealive.github.io/opengl-avance//js/clipboard.min.js"></script>
    <script src="https://celeborn2bealive.github.io/opengl-avance//js/perfect-scrollbar.min.js"></script>
    <script src="https://celeborn2bealive.github.io/opengl-avance//js/perfect-scrollbar.jquery.min.js"></script>
    <script src="https://celeborn2bealive.github.io/opengl-avance//js/jquery.sticky-kit.min.js"></script>
    <script src="https://celeborn2bealive.github.io/opengl-avance//js/featherlight.min.js"></script>
    <script src="https://celeborn2bealive.github.io/opengl-avance//js/html5shiv-printshiv.min.js"></script>
    <script src="https://celeborn2bealive.github.io/opengl-avance//js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://celeborn2bealive.github.io/opengl-avance//js/modernizr.custom.71422.js"></script>
    <script src="https://celeborn2bealive.github.io/opengl-avance//js/learn.js"></script>
    <script src="https://celeborn2bealive.github.io/opengl-avance//js/hugo-learn.js"></script>
    

  </body>
</html>

